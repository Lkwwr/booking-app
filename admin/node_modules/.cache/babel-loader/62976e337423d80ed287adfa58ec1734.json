{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ddrea\\\\Desktop\\\\booking-app\\\\admin\\\\src\\\\pages\\\\newHotel\\\\NewHotel.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./newHotel.scss\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport DriveFolderUploadOutlinedIcon from \"@mui/icons-material/DriveFolderUploadOutlined\";\nimport { useState } from \"react\";\nimport { hotelInputs } from \"../../formSource\";\nimport useFetch from \"../../hooks/useFetch\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewHotel = () => {\n  _s();\n\n  const [files, setFiles] = useState(\"\");\n  const [info, setInfo] = useState({});\n  const [rooms, setRooms] = useState([]);\n  const {\n    data,\n    loading,\n    error\n  } = useFetch(\"/rooms\");\n\n  const handleChange = e => {\n    setInfo(prev => ({ ...prev,\n      [e.target.id]: e.target.value\n    }));\n  };\n\n  const handleSelect = e => {\n    const value = Array.from(e.target.selectedOptions, option => option.value);\n    setRooms(value);\n  };\n\n  const handleClick = async e => {\n    e.preventDefault();\n\n    try {\n      const list = await Promise.all(Object.values(files).map(async file => {\n        const data = new FormData();\n        data.append(\"file\", file);\n        data.append(\"upload_preset\", \"upload\");\n        const uploadRes = await axios.post(\"https://api.cloudinary.com/v1_1/lkwwr/image/upload\", data);\n        const {\n          url\n        } = uploadRes.data;\n        return url;\n      }));\n      const newHotel = { ...info,\n        rooms,\n        photos: list\n      };\n      await axios.post(\"/hotels\", newHotel);\n    } catch (err) {}\n  };\n\n  console.log(files);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"new\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"newContainer\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add New Hotel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottom\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: files ? URL.createObjectURL(files[0]) : \"https://static.vecteezy.com/system/resources/thumbnails/004/141/669/small/no-photo-or-blank-image-icon-loading-images-or-missing-image-mark-image-not-available-or-image-coming-soon-sign-simple-nature-silhouette-in-frame-isolated-illustration-vector.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formInput\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                children: [\"Image: \", /*#__PURE__*/_jsxDEV(DriveFolderUploadOutlinedIcon, {\n                  className: \"icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 44\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"file\",\n                multiple: true,\n                onChange: e => setFiles(e.target.files),\n                style: {\n                  display: \"none\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), hotelInputs.map(input => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formInput\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: input.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: input.id,\n                onChange: handleChange,\n                type: input.type,\n                placeholder: input.placeholder\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 37\n              }, this)]\n            }, input.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 58\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formInput\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Featured\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"featured\",\n                onChange: handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: false,\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: true,\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selectRooms\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Rooms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"rooms\",\n                multiple: true,\n                onChange: handleSelect,\n                children: loading ? \"loading\" : data && data.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: room._id,\n                  children: room.title\n                }, room._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClick,\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 13\n  }, this);\n};\n\n_s(NewHotel, \"2qX67SdE8bYlAM7fSxsQ5mhsbL8=\", false, function () {\n  return [useFetch];\n});\n\n_c = NewHotel;\nexport default NewHotel;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewHotel\");","map":{"version":3,"sources":["C:/Users/ddrea/Desktop/booking-app/admin/src/pages/newHotel/NewHotel.jsx"],"names":["Sidebar","Navbar","DriveFolderUploadOutlinedIcon","useState","hotelInputs","useFetch","axios","NewHotel","files","setFiles","info","setInfo","rooms","setRooms","data","loading","error","handleChange","e","prev","target","id","value","handleSelect","Array","from","selectedOptions","option","handleClick","preventDefault","list","Promise","all","Object","values","map","file","FormData","append","uploadRes","post","url","newHotel","photos","err","console","log","URL","createObjectURL","display","input","label","type","placeholder","room","_id","title"],"mappings":"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","sourcesContent":["import \"./newHotel.scss\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Navbar from \"../../components/navbar/Navbar\";\r\nimport DriveFolderUploadOutlinedIcon from \"@mui/icons-material/DriveFolderUploadOutlined\";\r\nimport {useState} from \"react\";\r\nimport {hotelInputs} from \"../../formSource\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport axios from \"axios\";\r\n\r\nconst NewHotel = () => {\r\n    const [files, setFiles] = useState(\"\");\r\n    const [info, setInfo] = useState({})\r\n    const [rooms, setRooms] = useState([])\r\n\r\n    const {data, loading, error} = useFetch(\"/rooms\")\r\n\r\n    const handleChange = (e) => {\r\n        setInfo(prev => ({...prev, [e.target.id]: e.target.value}))\r\n    }\r\n\r\n    const handleSelect = e => {\r\n        const value = Array.from(e.target.selectedOptions, option => option.value)\r\n        setRooms(value);\r\n    }\r\n\r\n    const handleClick = async e => {\r\n        e.preventDefault()\r\n        try {\r\n            const list = await Promise.all(Object.values(files).map(async (file) => {\r\n                const data = new FormData();\r\n                data.append(\"file\", file);\r\n                data.append(\"upload_preset\", \"upload\")\r\n                const uploadRes = await axios.post(\"https://api.cloudinary.com/v1_1/lkwwr/image/upload\", data)\r\n\r\n                const {url} = uploadRes.data\r\n                return url\r\n            }))\r\n\r\n            const newHotel = {\r\n                ...info, rooms, photos: list\r\n            }\r\n\r\n            await axios.post(\"/hotels\", newHotel)\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    console.log(files)\r\n\r\n    return (<div className=\"new\">\r\n            <Sidebar/>\r\n            <div className=\"newContainer\">\r\n                <Navbar/>\r\n                <div className=\"top\">\r\n                    <h1>Add New Hotel</h1>\r\n                </div>\r\n                <div className=\"bottom\">\r\n                    <div className=\"left\">\r\n                        <img\r\n                            src={files ? URL.createObjectURL(files[0]) : \"https://static.vecteezy.com/system/resources/thumbnails/004/141/669/small/no-photo-or-blank-image-icon-loading-images-or-missing-image-mark-image-not-available-or-image-coming-soon-sign-simple-nature-silhouette-in-frame-isolated-illustration-vector.jpg\"}\r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <form>\r\n                            <div className=\"formInput\">\r\n                                <label htmlFor=\"file\">\r\n                                    Image: <DriveFolderUploadOutlinedIcon className=\"icon\"/>\r\n                                </label>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    id=\"file\"\r\n                                    multiple\r\n                                    onChange={(e) => setFiles(e.target.files)}\r\n                                    style={{display: \"none\"}}\r\n                                />\r\n                            </div>\r\n\r\n                            {hotelInputs.map((input) => (<div className=\"formInput\" key={input.id}>\r\n                                    <label>{input.label}</label>\r\n                                    <input id={input.id} onChange={handleChange} type={input.type}\r\n                                           placeholder={input.placeholder}/>\r\n                                </div>))}\r\n                            <div className=\"formInput\">\r\n                                <label>Featured</label>\r\n                                <select id=\"featured\" onChange={handleChange}>\r\n                                    <option value={false}>No</option>\r\n                                    <option value={true}>Yes</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"selectRooms\">\r\n                                <label>Rooms</label>\r\n                                <select id=\"rooms\" multiple onChange={handleSelect}>\r\n                                    {loading ? \"loading\" : data && data.map(room => (\r\n                                        <option key={room._id} value={room._id}>{room.title}</option>))}\r\n                                </select>\r\n                            </div>\r\n                            <button onClick={handleClick}>Send</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n};\r\n\r\nexport default NewHotel;\r\n"]},"metadata":{},"sourceType":"module"}